<!doctype html>
<html>
	<head>
		<title>Pallas</title>
		<script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.4/angular.min.js'></script>
		<script type="text/javascript" src='s/app.js'></script>
		<script type="text/javascript" src='s/sigma.min.js'></script>
		<script type="text/javascript" src='s/sigma.parsers.gexf.min.js'></script>
		<script type="text/javascript" src='s/sigma.layout.forceAtlas2.min.js'></script>
		<script type="text/javascript" src='s/sigma.plugins.dragNodes.min.js'></script>
	</head>
	<body ng-app="target" style="background-color: grey">
		<div style="width: 900px; margin: 0px auto 0px auto; background-color: white;">
			<div id="intro" style="width:100%; height:30px; background-color: blue;">
				<form method=post ng-controller="targetController as target" ng-submit="target.start()">
					<input type="text" ng-model="target.url" placeholder="http://example.com/" ng-disabled="target.validated">
					<select ng-model="target.browser" ng-options="browser for browser in target.browsers" title="browser" ng-show="!target.validated">
					</select>
					<span ng-show="target.validated">{{target.browser}}</span>
					<select ng-model="target.proxy" ng-options="proxy for proxy in ['no proxy', 'browsermob']" title="proxy" ng-show="!target.validated">
					</select>
					<span ng-show="target.validated">{{target.proxy}}</span>
					<input type="text" ng-model="target.proxy_path" placeholder="/path/to/browsermob-proxy" ng-show="target.proxy=='browsermob'" ng-disabled="target.validated">
					<input type="submit" value="Analyze" ng-show="!target.validated">
					<input type="submit" value="New" ng-show="target.validated">
				</form>
			</div>
			<div id="container" style="width:100%; height:500px;">
			  <div id="graph-container" style="height:100%; width:700px; float: left; background-color: white;"></div>
				<div id="details" style="height:100%; width:200px; background-color: yellow; margin-left: 700px;" ng-controller="detailsController as details">
					<div id="site-details" ng-show="siteData.site_url && !node">
						{{siteData.site_url}}
					</div>
					<div id="node-details" ng-show="node">
						details for node {{node_url}}
						<div>
							<form ng-submit="selectored()">
								<input type="text" ng-model="css_selector">
								<input type="submit" value="Search">
							</form>
						</div>
						{{results.length}} result(s) matching
						<ul id="selection_results">
							<li ng-repeat="match in results track by $index">
								<a href ng-click="view_match($index)">{{match.name}}</a>
								<div ng-show="selected == $index">
									<ul>
										<li>{{match.object.id}}</li>
										<li>{{match.object.href}}</li>
										<li><a href ng-click="go_to($index)">Click</a></li>
									</ul>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src='s/sigma-graph.js'></script>
	</body>
</html>
